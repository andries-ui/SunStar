{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Constance from \"../theme/const\";\nimport { Divider, Icon } from \"react-native-elements\";\nimport TextComponent from \"./text\";\nimport { ThemeContext } from \"../theme/themeProvider\";\n\nvar NotificationComponent = function NotificationComponent(props) {\n  var width = Dimensions.get('window').width;\n  var title = props.title,\n      message = props.message,\n      date = props.date,\n      time = props.time,\n      icon = props.icon,\n      status = props.status,\n      dropped = props.dropped,\n      key = props.key,\n      press = props.press;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dropp = _useState2[0],\n      setdropp = _useState2[1];\n\n  var _useContext = useContext(ThemeContext),\n      theme = _useContext.theme,\n      dark = _useContext.dark;\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      days = _useState4[0],\n      setdays = _useState4[1];\n\n  var handleDaysCalculation = function handleDaysCalculation() {\n    var one_day = 1000 * 60 * 60 * 24;\n    var today = new Date();\n    var dateSent = new Date(time);\n    var diff = today.getTime() - dateSent.getTime();\n    var minutes = Math.floor(diff / 1000 / 60);\n    var hours = Math.floor(diff / 36e5),\n        minutes = Math.floor(diff % 36e5 / 60000),\n        seconds = Math.floor(diff % 60000 / 1000);\n\n    if (hours < 24 && hours > 1) {\n      setdays(hours + \" h ago\");\n    } else if (hours <= 1) {\n      var _days = hours / 24;\n\n      setdays(minutes + \" min ago\");\n    } else if (hours > 24) {\n      var _days2 = hours / 24;\n\n      if (_days2 < 2) {\n        var daycount = _days2.toString();\n\n        setdays(daycount.substring(0, daycount.indexOf('.')) + \" day ago\");\n      } else if (_days2 > 1 && _days2 < 29) {\n        var _daycount = _days2.toString();\n\n        setdays(_daycount.substring(0, _daycount.indexOf('.')) + \" days ago\");\n      } else if (_days2 > 30) {\n        var _daycount2 = (_days2 / 30).toString();\n\n        setdays(_daycount2.substring(0, _daycount2.indexOf('.')) + \" days ago\");\n      }\n    }\n\n    console.log(time);\n  };\n\n  useEffect(function () {\n    handleDaysCalculation();\n  }, []);\n  return React.createElement(View, {\n    style: {\n      backgroundColor: theme.backgroundAlt,\n      height: dropped ? null : 95,\n      paddingHorizontal: 5,\n      paddingVertical: 5,\n      paddingBottom: 10,\n      marginHorizontal: 0,\n      borderRadius: 1\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: press\n  }, React.createElement(View, null, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginVertical: 5,\n      backgroundColor: theme.border,\n      padding: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      width: width - 100,\n      flexDirection: 'row',\n      justifyContent: 'flex-start',\n      alignItems: 'center'\n    }\n  }, React.createElement(Icon, {\n    type: \"material-community\",\n    name: \"bell-alert\",\n    color: theme.text,\n    size: 16\n  }), React.createElement(TextComponent, {\n    text: key,\n    style: {\n      height: 20,\n      left: 5,\n      fontSize: Constance.medium,\n      color: theme.text,\n      fontWeight: 'bold',\n      paddingHorizontal: 5\n    }\n  })), React.createElement(View, {\n    style: {\n      width: 90,\n      flexDirection: 'row',\n      justifyContent: 'flex-start',\n      alignItems: 'center'\n    }\n  }, React.createElement(TextComponent, {\n    text: days,\n    style: {\n      height: 20,\n      fontSize: Constance.x_small,\n      color: theme.text,\n      fontWeight: '900'\n    }\n  }), React.createElement(Icon, {\n    type: \"material-community\",\n    name: dropped ? 'menu-up' : 'menu-down',\n    color: theme.text\n  }))), React.createElement(Divider, {\n    style: {\n      height: Constance.smallDivider,\n      backgroundColor: Constance.GreyLighter\n    }\n  }), React.createElement(TextComponent, {\n    text: dropped ? message : message.substring(0, 60),\n    style: {\n      fontSize: Constance.x_small,\n      color: theme.text,\n      fontWeight: '200'\n    }\n  }), React.createElement(Divider, {\n    style: {\n      height: Constance.smallDivider,\n      marginTop: 5,\n      backgroundColor: Constance.GreyLighter\n    }\n  }))));\n};\n\nexport default NotificationComponent;","map":{"version":3,"sources":["D:/Development/Mobile Development/React native/Hotel/SunStar/SunStar/userapp/source/components/notification.tsx"],"names":["React","useContext","useEffect","useState","Constance","Divider","Icon","TextComponent","ThemeContext","NotificationComponent","props","width","Dimensions","get","title","message","date","time","icon","status","dropped","key","press","dropp","setdropp","theme","dark","days","setdays","handleDaysCalculation","one_day","today","Date","dateSent","diff","getTime","minutes","Math","floor","hours","seconds","daycount","toString","substring","indexOf","console","log","backgroundColor","backgroundAlt","height","paddingHorizontal","paddingVertical","paddingBottom","marginHorizontal","borderRadius","flexDirection","justifyContent","marginVertical","border","padding","alignItems","text","left","fontSize","medium","color","fontWeight","x_small","smallDivider","GreyLighter","marginTop"],"mappings":"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","sourcesContent":["import { Dimensions, DynamicColorIOS, TouchableOpacity, View } from \"react-native\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Constance from \"../theme/const\";\r\nimport { Divider, Icon } from \"react-native-elements\";\r\nimport TextComponent from \"./text\";\r\nimport { ThemeContext } from \"../theme/themeProvider\";\r\nimport axios from \"axios\";\r\n\r\ninterface props {\r\n    title?: any,\r\n    message?: any,\r\n    date?: any,\r\n    time?: any,\r\n    icon?: any,\r\n    status?: any,\r\n    dropped?: any,\r\n    press?: any,\r\n    key?: any\r\n}\r\n\r\nconst NotificationComponent = (props: props) => {\r\n\r\n    const width = Dimensions.get('window').width;\r\n    const { title, message, date, time, icon, status, dropped, key,press } = props;\r\n    const [dropp, setdropp] = useState(false);\r\n    const { theme, dark } = useContext(ThemeContext);\r\n    const [days, setdays] = useState<any>();\r\n\r\n  \r\n\r\n    const handleDaysCalculation = () => {\r\n\r\n        var one_day = 1000 * 60 * 60 * 24;\r\n        let today = new Date();\r\n        let dateSent = new Date(time)\r\n\r\n        var diff = today.getTime() - dateSent.getTime();\r\n        //var hours = Math.floor(diff / 1000 / 60 / 60);\r\n        // diff -= hours * 1000 * 60 * 60;\r\n        var minutes = Math.floor(diff / 1000 / 60);\r\n\r\n        var hours = Math.floor(diff / 36e5),\r\n            minutes = Math.floor(diff % 36e5 / 60000),\r\n            seconds = Math.floor(diff % 60000 / 1000);\r\n\r\n\r\n        if (hours < 24 && hours > 1) {\r\n            setdays(`${hours} h ago`);\r\n        } else if (hours <= 1) {\r\n\r\n            let days = hours / 24;\r\n            setdays(`${minutes} min ago`);\r\n        } else if (hours > 24) {\r\n\r\n            let days = hours / 24;\r\n            if (days < 2) {\r\n                let daycount = days.toString()\r\n                setdays(`${daycount.substring(0, daycount.indexOf('.'))} day ago`);\r\n            }else if(days > 1 && days < 29){\r\n                let daycount = days.toString();\r\n                setdays(`${daycount.substring(0, daycount.indexOf('.'))} days ago`);\r\n            }else if(days > 30){\r\n                \r\n                let daycount = (days/ 30).toString();\r\n                setdays(`${daycount.substring(0,daycount.indexOf('.') )} days ago`);\r\n            }\r\n        }\r\n        console.log(time);\r\n    }\r\n    useEffect(() => {\r\n        handleDaysCalculation();\r\n    }, [])\r\n\r\n    return (\r\n        <View style={{ backgroundColor: theme.backgroundAlt, height: dropped ? null : 95, paddingHorizontal: 5, paddingVertical: 5, paddingBottom: 10, marginHorizontal: 0, borderRadius: 1 }}>\r\n\r\n            <TouchableOpacity onPress={press}>\r\n                <View>\r\n                    <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginVertical: 5, backgroundColor: theme.border, padding: 5 }}>\r\n                        <View style={{ width: width - 100, flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                            <Icon type='material-community' name='bell-alert' color={theme.text} size={16} />\r\n                            <TextComponent text={key} style={{ height: 20, left: 5, fontSize: Constance.medium, color: theme.text, fontWeight: 'bold', paddingHorizontal: 5 }} />\r\n                        </View>\r\n\r\n                        <View style={{ width: 90, flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                            <TextComponent text={days} style={{ height: 20, fontSize: Constance.x_small, color: theme.text, fontWeight: '900' }} />\r\n                            <Icon type=\"material-community\" name={dropped ? 'menu-up' : 'menu-down'} color={theme.text} />\r\n                        </View>\r\n                    </View>\r\n\r\n                    <Divider style={{ height: Constance.smallDivider, backgroundColor: Constance.GreyLighter }} />\r\n                    <TextComponent text={dropped ? message : message.substring(0, 60)} style={{ fontSize: Constance.x_small, color: theme.text, fontWeight: '200' }} />\r\n\r\n                    <Divider style={{ height: Constance.smallDivider, marginTop: 5, backgroundColor: Constance.GreyLighter }} />\r\n                </View>\r\n            </TouchableOpacity>\r\n        </View >\r\n    );\r\n}\r\n\r\nexport default NotificationComponent;"]},"metadata":{},"sourceType":"module"}